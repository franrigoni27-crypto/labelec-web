<%- include('partials/header') %>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>

<style>
    :root {
        --timeline-color: var(--color-primario);
        --dot-color: var(--color-acento-servicio);
    }

    /* --- HERO --- */
    .history-hero {
        background: linear-gradient(rgba(16, 115, 172, 0.9), rgba(16, 115, 172, 0.8)), url('/img/historia_hero.jpg');
        background-size: cover;
        background-position: center;
        color: white;
        text-align: center;
        padding: 100px 20px;
        margin-bottom: 60px;
        border-radius: 0 0 30px 30px;
    }
    .history-hero h1 { font-size: 46px; margin-bottom: 15px; font-weight: 700; }
    .history-hero p { font-size: 20px; max-width: 700px; margin: 0 auto; opacity: 0.9; }

    /* --- TIMELINE CONTAINER --- */
    .timeline-container {
        position: relative;
        max-width: 1100px;
        margin: 0 auto;
        padding: 40px 20px;
    }
    
    /* La línea central vertical */
    .timeline-container::after {
        content: '';
        position: absolute;
        width: 4px;
        background-color: #e9ecef;
        top: 0;
        bottom: 0;
        left: 50%;
        margin-left: -2px;
        z-index: -1;
    }

    /* --- FILA DEL TIMELINE (Bloque completo) --- */
    .timeline-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 80px;
        position: relative;
    }

    /* Elementos (Cajas de texto y fotos) */
    .timeline-content, .timeline-image {
        width: 45%; /* Deja 10% en el centro para la línea */
        position: relative;
    }

    /* El Punto Central (Dot) */
    .timeline-dot {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 24px;
        height: 24px;
        background: white;
        border: 5px solid var(--dot-color);
        border-radius: 50%;
        z-index: 2;
        box-shadow: 0 0 0 5px rgba(255,255,255,0.5);
    }

    /* --- ESTILO DE LAS TARJETAS DE TEXTO --- */
    .content-card {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        border-top: 4px solid var(--timeline-color);
        position: relative;
        transition: transform 0.3s ease;
    }
    .content-card:hover { transform: translateY(-5px); }
    
    /* Flechita que apunta al centro */
    .content-card::before {
        content: '';
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        border-width: 10px;
        border-style: solid;
    }

    .date-badge {
        display: inline-block;
        background: var(--timeline-color);
        color: white;
        padding: 5px 15px;
        border-radius: 50px;
        font-weight: bold;
        font-size: 14px;
        margin-bottom: 15px;
    }
    .content-card h3 { color: var(--timeline-color); font-size: 24px; margin-bottom: 10px; }
    .content-card p { color: #555; line-height: 1.6; font-size: 16px; }

    /* --- ESTILO DE LAS IMÁGENES --- */
    .timeline-image img {
        width: 100%;
        height: 280px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        transition: transform 0.3s ease;
        border: 5px solid white;
        cursor: pointer;
    }
    .timeline-image img:hover { transform: scale(1.03); }

    /* --- LÓGICA IZQUIERDA / DERECHA --- */
    
    /* CASO 1: Texto Izquierda, Foto Derecha (Impares) */
    .timeline-row:nth-child(odd) .timeline-content { order: 1; text-align: right; }
    .timeline-row:nth-child(odd) .timeline-image { order: 3; }
    .timeline-row:nth-child(odd) .content-card::before {
        right: -20px;
        border-color: transparent transparent transparent white; /* Flecha a la derecha */
    }

    /* CASO 2: Foto Izquierda, Texto Derecha (Pares) */
    .timeline-row:nth-child(even) .timeline-content { order: 3; text-align: left; }
    .timeline-row:nth-child(even) .timeline-image { order: 1; }
    .timeline-row:nth-child(even) .content-card::before {
        left: -20px;
        border-color: transparent white transparent transparent; /* Flecha a la izquierda */
    }

    /* --- RESPONSIVE (Móvil) --- */
    @media (max-width: 768px) {
        .timeline-container::after { left: 30px; } /* Línea a la izquierda */
        .timeline-row { flex-direction: column; margin-bottom: 50px; }
        
        .timeline-content, .timeline-image { width: 100%; padding-left: 60px; margin-bottom: 20px; }
        .timeline-content { order: 2 !important; text-align: left !important; }
        .timeline-image { order: 1 !important; margin-bottom: 15px; }

        .timeline-dot { left: 30px; top: 20px; transform: translate(-50%, 0); }
        
        .content-card::before {
            left: -20px !important;
            border-color: transparent white transparent transparent !important;
            top: 20px;
        }
        .timeline-image img { height: 200px; }
    }
    
    /* --- GALERÍA FINAL --- */
    .memories-section { padding: 60px 20px; background: #f9fafb; text-align: center; }
    .swiper-container { width: 100%; max-width: 900px; margin: 40px auto; border-radius: 15px; overflow: hidden; }
    .swiper-slide img { width: 100%; height: 400px; object-fit: cover; }
</style>

<div class="history-hero">
    <h1>Nuestra Historia</h1>
    <p>Innovación, compromiso y servicio técnico. Un recorrido por los hitos que definieron a Labelec.</p>
</div>

<main class="timeline-container">

    <div class="timeline-row">
        <div class="timeline-content">
            <div class="content-card">
                <span class="date-badge">1968</span>
                <h3>Los Inicios</h3>
                <p>Todo comenzó en un pequeño taller familiar. Con herramientas básicas pero una vocación inquebrantable, nos dedicamos a la reparación de electrónica, sentando las bases de nuestro ADN técnico.</p>
            </div>
        </div>
        <div class="timeline-dot"></div>
        <div class="timeline-image">
            <a href="/img/historia_1.jpg" class="glightbox">
                <img src="/img/historia_1.jpg" alt="Taller 1968" onerror="this.src='/img/nosotros.png'">
            </a>
        </div>
    </div>

    <div class="timeline-row">
        <div class="timeline-content">
            <div class="content-card">
                <span class="date-badge">1985</span>
                <h3>Especialización Médica</h3>
                <p>Detectamos una necesidad crítica en la región: el soporte técnico hospitalario. Labelec gira su enfoque 100% hacia la bioingeniería, capacitándonos con marcas internacionales.</p>
            </div>
        </div>
        <div class="timeline-dot"></div>
        <div class="timeline-image">
            <a href="/img/historia_2.jpg" class="glightbox">
                <img src="/img/historia_2.jpg" alt="Especialización" onerror="this.src='/img/nosotros.png'">
            </a>
        </div>
    </div>

    <div class="timeline-row">
        <div class="timeline-content">
            <div class="content-card">
                <span class="date-badge">1998</span>
                <h3>Consolidación Regional</h3>
                <p>Inauguramos nuestra sede central y expandimos el equipo. Nos convertimos en servicio técnico oficial, abarcando Entre Ríos y provincias vecinas con soluciones integrales.</p>
            </div>
        </div>
        <div class="timeline-dot"></div>
        <div class="timeline-image">
            <a href="/img/historia_3.jpg" class="glightbox">
                <img src="/img/historia_3.jpg" alt="Sede Central" onerror="this.src='/img/nosotros.png'">
            </a>
        </div>
    </div>

    <div class="timeline-row">
        <div class="timeline-content">
            <div class="content-card">
                <span class="date-badge">2010</span>
                <h3>Era Digital y Venta</h3>
                <p>Incorporamos la venta de equipamiento de alta complejidad. No solo reparamos, ahora equipamos terapias intensivas completas con tecnología de punta.</p>
            </div>
        </div>
        <div class="timeline-dot"></div>
        <div class="timeline-image">
            <a href="/img/historia_4.jpg" class="glightbox">
                <img src="/img/historia_4.jpg" alt="Tecnología" onerror="this.src='/img/nosotros.png'">
            </a>
        </div>
    </div>

    <div class="timeline-row">
        <div class="timeline-content">
            <div class="content-card">
                <span class="date-badge">Actualidad</span>
                <h3>Liderazgo e Innovación</h3>
                <p>Hoy, Labelec es sinónimo de confianza. Con software propio, equipo multidisciplinario y presencia constante, seguimos escribiendo la historia de la salud.</p>
            </div>
        </div>
        <div class="timeline-dot"></div>
        <div class="timeline-image">
            <a href="/img/nosotros.png" class="glightbox">
                <img src="/img/nosotros.png" alt="Equipo Actual">
            </a>
        </div>
    </div>

</main>

<section class="memories-section">
    <h2 style="color: var(--timeline-color); margin-bottom: 10px;">Galería del Recuerdo</h2>
    <p style="color: #666;">Momentos inolvidables de nuestro camino.</p>

    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="/img/historia_slider_1.jpg" onerror="this.src='/img/favicon.png'"></div>
            <div class="swiper-slide"><img src="/img/historia_slider_2.jpg" onerror="this.src='/img/favicon.png'"></div>
            <div class="swiper-slide"><img src="/img/historia_slider_3.jpg" onerror="this.src='/img/favicon.png'"></div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</section>

<script>
    // Inicializar Swiper
    var swiper = new Swiper(".mySwiper", {
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: "auto",
        coverflowEffect: {
            rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: true,
        },
        pagination: { el: ".swiper-pagination", clickable: true },
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
        autoplay: { delay: 3000 }
    });

    // Inicializar Zoom (Lightbox)
    const lightbox = GLightbox({ touchNavigation: true, loop: true });
</script>

<%- include('partials/footer') %>